import java.io.*;
import java.util.*;

public class SolutionMain
{
	private IHeap<Integer> heap = new Heap<Integer>();
	private ArrayList<Customer> customers = new ArrayList<Customer>();
	
	public SolutionMain()
	{
		readFile();
		for(Customer cust : customers)
		{
			heap.insert(cust.getPriority());
		}
		//System.out.println(customers);
		System.out.println(heap.peekTop());
	}

	public static void main(String[] args) 
	{
		new SolutionMain();
	}
	
	
	public void readFile()
	{
	  String line = "";
	  try
	  {
         @SuppressWarnings("resource")
         Scanner sr = new Scanner(new File("customers.txt"));
         while (sr.hasNextLine())
         {
        	 line = sr.nextLine();
        	 String[] part = line.split(", ");
        	 Customer cust = new Customer();
        	 cust.setName(part[0]);
        	 cust.setMoney(Integer.parseInt(part[1]));
        	 cust.setYears(Integer.parseInt(part[2]));
        	 cust.setOrder(Integer.parseInt(part[3]));
        	 cust.setPriority();
        	 customers.add(cust);
         }       
      }
	  catch(Exception e)
	  {
		  System.out.println("File not found");
	  }
	}
}


class Customer
{
	String name;
	Integer money;
	Integer years;
	Integer order;
	Integer priority;
	
	public void setName(String s)
	{
		name = s;
	}
	public String getName()
	{
		return name;
	}
	
	public void setMoney(Integer n)
	{
		money = n;
	}
	public Integer getMoney()
	{
		return money;
	}
	
	public void setYears(Integer n)
	{
		years = n;
	}
	public Integer getYears()
	{
		return years;
	}
	
	public void setOrder(Integer n)
	{
		order = n;
	}
	public Integer getOrder()
	{
		return order;
	}
	
	public void setPriority()
	{
		priority = (money / 1000) + years - order;
	}
	public Integer getPriority()
	{
		return priority;
	}

	
	public String toString()
	{
		return "Customer; " + name + "\nPriority Number: " + priority + "\n";
	}
}


